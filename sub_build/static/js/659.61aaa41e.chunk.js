"use strict";(self.webpackChunkemail_compaigm=self.webpackChunkemail_compaigm||[]).push([[659],{3659:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var r=a(5043),t=a(4712),l=a(2558),i=a(4858),d=a(6720),o=a(9145),n=a(3003),m=a(3994),c=a(3216),u=a(5475),x=a(184),h=a(579);const w=()=>{const{handleSubmit:e,watch:s,control:a,setValue:w,formState:{errors:b}}=(0,i.mN)({}),g=(0,n.wA)(),f=(0,c.Zp)(),[v,p]=(0,r.useState)([]),{isAuthenticated:j,isLoading:y}=(0,n.d4)((e=>e.auth)),[N,_]=(0,r.useState)({});return(0,r.useEffect)((()=>{N&&N.is_two_fa_enabled&&f(`/verify-email/${N.email}?two_fa_enabled=true`)}),[N,f]),(0,r.useEffect)((()=>{N&&!1===N.is_two_fa_enabled&&"user"===(null===N||void 0===N?void 0:N.role)?f("/"):N&&!1===N.is_two_fa_enabled&&"admin"===(null===N||void 0===N?void 0:N.role)&&f("/admin/dashboard")}),[j,N,f]),(0,h.jsx)("div",{children:(0,h.jsx)("section",{className:" bg-gray-100 h-screen dark:bg-gray-900 flex justify-center items-center",children:(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"w-full lg:max-w-xl p-6 space-y-8 sm:p-8 bg-white shadow-xl dark:bg-gray-800",children:[(0,h.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center",children:"Sign In"}),(0,h.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:e((async e=>{const s={email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password},a=await g((0,m.Lx)(s));_(a)})),children:[(0,h.jsxs)("div",{className:"w-96",children:[(0,h.jsx)(t.A,{name:"email",control:a,svg:(0,h.jsx)(d.M4w,{}),errors:b,label:"Username/Email Address",rules:{required:{value:!0,message:"Field required!"}}})," "]}),(0,h.jsx)("div",{className:"w-96",children:(0,h.jsx)(t.A,{name:"password",type:"password",control:a,svg:(0,h.jsx)(x.Ny1,{}),errors:b,description:(0,h.jsx)(u.N_,{to:"/forgot-password",className:"ms-auto text-sm font-medium text-blue-600 hover:underline dark:text-blue-500 float-end",children:"Lost Password?"}),label:"Password",rules:{required:{value:!0,message:"Field required!"}}})}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)(l.A,{name:"remember",control:a,errors:b,label:"Remember me for 30 days"})," "]}),(0,h.jsx)(o.A,{loading:y,type:"submit",size:"lg",className:"py-2",children:"Login"}),(0,h.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Not registered yet?"," ",(0,h.jsx)(u.N_,{to:"/sign-up",className:"text-blue-600 hover:underline dark:text-blue-500",children:"Create account"})]})]})]})})})})}}}]);
//# sourceMappingURL=659.61aaa41e.chunk.js.map